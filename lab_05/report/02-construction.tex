\chapter{Конструкторская часть}
В данном разделе будут представлены схемы последовательной и параллельной работы стадий конвейера.

\section{Требования к программному обеспечению}
К программе предъявлен ряд требований:
\begin{itemize}
	\item наличие меню для выбора запускаемого режима работы конвейера~--- последовательного и параллельного;
	\item предоставление интерфейса для ввода линейного размера обрабатываемых матриц и числа заявок;
	\item формирование файла с логом работы конвейера, логирование событий обработки должно происходить после окончания работы, собственно, конвейера.
\end{itemize}

\section{Разработка алгоритмов}
\clearpage

На рисунке~\ref{img:gen} представлен алгоритм генерации РСФ-матрицы.
\includeimage
{gen}
{f}
{H}
{.9\textwidth}
{Схема алгоритма генерации РСФ-матрицы}

\clearpage

На рисунках~\ref{img:sum1}~--~\ref{img:sum3} представлен алгоритм сложения РСФ-матриц.
\includeimage
{sum1}
{f}
{H}
{.9\textwidth}
{Схема алгоритма сложения РСФ-матриц(часть 1)}

\clearpage

\includeimage
{sum2}
{f}
{H}
{.9\textwidth}
{Схема алгоритма сложения РСФ-матриц(часть 2)}

\clearpage

\includeimage
{sum3}
{f}
{H}
{.9\textwidth}
{Схема алгоритма сложения РСФ-матриц(часть 3)}

\clearpage

На рисунке~\ref{img:decom} представлен алгоритм распаковки РСФ-матрицы.
\includeimage
{decom}
{f}
{H}
{.9\textwidth}
{Схема алгоритма распаковки РСФ-матрицы}

\clearpage

На рисунке~\ref{img:consistent} представлен последовательный алгоритм работы стадий конвейера.
\includeimage
{consistent}
{f}
{H}
{.6\textwidth}
{Схема последовательной обработки}

Параллельная работа будет реализована с помощью добавления 3-х вспомогательных потоков, где каждый поток отвечает за свою стадию обработки.
Вспомогательному потоку в числе аргументов в качестве структуры будут переданы:
\begin{itemize}
	\item две матрицы в РСФ;
	\item результирующая матрица сложения двух матриц в РСФ;
	\item временные отметки начала и конца выполнения стадии обработки заявки.
\end{itemize}

\newpage

На рисунке~\ref{img:parallel} представлена схема главного потока при параллельной работе стадий конвейера.
\includeimage
{parallel}
{f}
{H}
{.7\textwidth}
{Схема параллельной конвейерной обработки}

\newpage

На рисунках~\ref{img:thread1}~--~\ref{img:thread3} представлены схемы алгоритмов каждого из обработчиков (потоков) при параллельной работе.
\includeimage
{thread1}
{f}
{H}
{.7\textwidth}
{Схема алгоритма потока, выполняющего создание и упаковку матриц}

\includeimage
{thread2}
{f}
{H}
{.7\textwidth}
{Схема алгоритма потока, выполняющего сложение упакованных матриц}

\includeimage
{thread3}
{f}
{H}
{.7\textwidth}
{Схема алгоритма потока, выполняющего распаковку результирующей матрицы}

\section*{Вывод}
В данном разделе были представлены схемы последовательной и параллельной работы стадий конвейера.